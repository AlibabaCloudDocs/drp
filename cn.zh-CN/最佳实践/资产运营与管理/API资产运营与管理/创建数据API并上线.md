# 创建数据API并上线

本章节为您介绍如何创建数据API，并对创建的API进行上线。

1.  您已经新建RDS云计算资源，详细参见：[添加ApsaraDB for RDS云计算资源](/cn.zh-CN/最佳实践/准备工作/新建云计算资源.md)。
2.  您已经在RDS数据库创建表[银行客户信息](/cn.zh-CN/最佳实践/准备工作/准备数据.md)。
3.  您已经新建组织机构，详细请参见[新建服务生产方组织机构](/cn.zh-CN/最佳实践/准备工作/新建组织机构.md)。
4.  您已经新建应用，详细请参见[新建服务生产方应用](/cn.zh-CN/最佳实践/准备工作/新建应用.md)。

创建API并上线API，为后续的API资产做支撑。

## 创建数据API

1.  登录[数据资源平台控制台](https://dataq.console.aliyun.com)。

2.  在页面左上角单击**![菜单](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6504337061/p188771.png)**，选择**研发工作台**，在顶部菜单栏单击**资产加工**。

3.  在左侧导航栏，单击**![统一服务](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7688060161/p208222.png)** \> **API管理** \> **API资源**。

4.  在**API资源**页面，单击**创建API** \> **数据API**。

    1.  进入**API基础信息**页面，输入API的名称、选择所属应用、选择调用认证方式和输入描述等信息后，单击**下一步**。

        API基本信息配置如下表所示：

        |配置项|示例|
        |---|--|
        |API名称|根据证件号码查询银行客户信息|
        |所属应用|全域数据平台|
        |描述|根据证件号码查询银行客户信息|

    2.  进入**API参数配置**页面。

        1.  选择云计算资源类型、云计算资源和源数据表，将新建模式选为**向导模式**。

            |配置项|示例|
            |---|--|
            |云计算资源类型|RDS|
            |云计算资源|客户自定义|
            |源数据表|yhkh|

        2.  在**返回参数**区域，选中全部字段。
        3.  在**请求参数**区域，单击**请求参数**，填写请求参数说明、条件和默认值，单击**下一步**。

            |配置项|示例|
            |---|--|
            |字段名称|yhkh.zzhm|
            |条件|=|
            |是否必选|是|
            |默认值|CKR-1000|

5.  进入**API测试**页面，单击**开始测试**，核对返回内容无误后，单击**下一步**。

6.  进入**返回内容**页面，查看返回内容， 单击**下一步**。

7.  进入**流量控制**页面，填写API最大调用次数，选择超时配置，单击**完成**。

    流量控制最大调用次数配置如下表所示:

    |配置项|示例|
    |---|--|
    |API最大调用次数|3000|
    |超时配置|3秒|

8.  在**API资源**列表查看新建的API。


## 上线API

1.  登录[数据资源平台控制台](https://dataq.console.aliyun.com)。

2.  在页面左上角单击![菜单](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6504337061/p188771.png)，选择**研发工作台**。在顶部菜单栏单击**资产加工**。

3.  在左侧导航栏单击![统一服务 ](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/8303669161/p269359.png)，单击**API管理** \> **API资源**。

4.  单击新建API后的**上线**，弹出上线成功提示。


